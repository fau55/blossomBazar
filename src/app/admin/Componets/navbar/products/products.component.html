<div class="row mt-2">
    <div class="col-9">
        <h4>All Poducts</h4>
    </div>
    <div class="col text-end mt-5" data-bs-toggle="modal" data-bs-target="#exampleModal">
        <img src="../../../../../assets/Images/products/plus.png" class="plus" alt="">
        <img src="../../../../../assets/Images/products/flower-pot.png" alt="" class="flowerPot">
    </div>
</div>
<div class="row">
    <div class="col">
        <div class="card">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Details</th>
                        <th>Edit/delete</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let product of allProductArray ; let i = index">
                        <td>
                            <img src="{{product.productImage}}" alt="">
                        </td>
                        <td>{{product.productName}}</td>
                        <td>{{product.productPrice}}</td>
                        <td>{{product.productQuantity}}</td>
                        <td>
                            <button class="btn btn-primary" data-bs-toggle="modal" (click)="viewDetails(i)" data-bs-target="#exampleModal2">View
                                Details
                            </button>
                        </td>
                        <td>
                            <button class="btn btn-success me-1" data-bs-toggle="modal" (click)="editProductModal(i)" data-bs-target="#exampleModal3" >Edit</button>
                            <button class="btn btn-secondary" (click)="deleteProduct(product._id)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- add product modal  -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add Product</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col">
                        <div class="card">
                            <p>Image Of Product</p>
                            <upload-dropzone [options]="options" [onUpdate]="onUpdate" [width]="width" [height]="height"
                                upload multi="false">
                            </upload-dropzone>
                        </div>
                    </div>
                    <div class="col rightCol">
                        <div class="row">
                            <div class="col">
                                <p>Product Name</p>
                                <input type="text" class="form-control" [(ngModel)]="addProduct.productName">
                            </div>
                            <div class="col">
                                <p>Product Price</p>
                                <input type="number" class="form-control" [(ngModel)]="addProduct.productPrice">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <p>Product Quantity</p>
                                <input type="number" class="form-control" [(ngModel)]="addProduct.productQuantity">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <p>Product Description</p>
                                <textarea name="" id="" class="form-control"
                                    [(ngModel)]="addProduct.productDescription"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="addProducts()">Save
                    changes</button>
            </div>
        </div>
    </div>
</div>

<!-- view details Product Modal  -->
<!-- Modal -->
<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content ">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel2">Product Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col">
                        <div class="card text-start">
                            <img class="card-img-top" height="400" src="{{viewProduct.productImage}}" class="viewImage"
                                alt="Title" />
                            <div class="card-body">
                                <h4 class="card-title">{{viewProduct.productName}}</h4>
                                <p>Price : {{viewProduct.productPrice}}</p>
                                <p>Quantity : {{viewProduct.productQuantity}}</p>
                                <p class="card-text">{{viewProduct.productDescription}}</p>
                            </div>
                        </div>


                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- edit product modal  -->
<div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel3" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel3">Edit Product</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col">
                        <div class="card">
                            <img src="{{editProductObject.productImage}}" class="editImage" alt="">
                        </div>
                    </div>
                    <div class="col rightCol mt-3">
                        <div class="row">
                            <div class="col ">
                                <p>Product Name</p>
                                <input type="text" class="form-control" [(ngModel)]="editProductObject.productName">
                            </div>
                            <div class="col">
                                <p>Product Price</p>
                                <input type="number" class="form-control" [(ngModel)]="editProductObject.productPrice">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <p>Product Quantity</p>
                                <input type="number" class="form-control" [(ngModel)]="editProductObject.productQuantity">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <p>Product Description</p>
                                <textarea name="" id="" class="form-control"
                                    [(ngModel)]="editProductObject.productDescription"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" (click)="editProductApi()">Save
                    changes</button>
            </div>
        </div>
    </div>
</div>